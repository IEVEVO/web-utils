function id(e){return document.getElementById(e)}function displayImg(e){if(id("enlarged-image").src=e,gallery_info.imgs.length>1){gallery_counter.innerHTML=parseInt(gallery_info.currentIndex)+1+"/"+gallery_info.imgs.length;for(n=0;n<gallery_buttons.length;n++)gallery_buttons[n].classList.remove("hidden")}else for(var n=0;n<gallery_buttons.length;n++)gallery_buttons[n].classList.add("hidden")}function enlargeImg(e){if(null!=e.getAttribute("data-gallery-index")){var n=e.parentNode.getElementsByTagName("img");gallery_info.currentIndex=e.getAttribute("data-gallery-index"),gallery_info.imgs=n}else gallery_info.currentIndex=0,gallery_info.imgs=[e];var r=e.src;null!=e.getAttribute("data-large-src")&&(r=e.getAttribute("data-large-src")),displayImg(r),id("enlarged-image").parentNode.classList.add("open")}function unenlargeImg(){id("enlarged-image").parentNode.classList.remove("open"),gallery_counter.innerHTML="1/1"}function nextImage(){gallery_info.currentIndex+1>=gallery_info.imgs.length?gallery_info.currentIndex=0:gallery_info.currentIndex=parseInt(gallery_info.currentIndex)+1,displayImg(null!=gallery_info.imgs[gallery_info.currentIndex].getAttribute("data-large-src")?gallery_info.imgs[gallery_info.currentIndex].getAttribute("data-large-src"):gallery_info.imgs[gallery_info.currentIndex].src)}function prevImage(){gallery_info.currentIndex<=0?gallery_info.currentIndex=gallery_info.imgs.length-1:gallery_info.currentIndex=parseInt(gallery_info.currentIndex)-1,displayImg(null!=gallery_info.imgs[gallery_info.currentIndex].getAttribute("data-large-src")?gallery_info.imgs[gallery_info.currentIndex].getAttribute("data-large-src"):gallery_info.imgs[gallery_info.currentIndex].src)}function initialise(){for(var e=document.getElementsByClassName("gallery"),n=0;n<e.length;n++)for(var r=e[n].children,l=0;l<r.length;l++)if(""!=r[l].src){r[l].src;r[l].onclick=function(){enlargeImg(this)}}}var gallery_counter,gallery_buttons,gallery_info={imgs:[],currentIndex:0};window.addEventListener("load",function(){initialise();var e=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),l=document.createElement("span");e.innerHTML="<img class='img-enlarged' id='enlarged-image' />",e.classList.add("img-enlarged__cont"),e.onclick=function(){unenlargeImg()},n.innerHTML="<span></span>",n.classList.add("img-enlarged__nav"),n.classList.add("prev"),n.onclick=function(e){e.stopPropagation(),prevImage()},r.innerHTML="<span></span>",r.classList.add("img-enlarged__nav"),r.classList.add("next"),r.onclick=function(e){e.stopPropagation(),nextImage()},l.innerHTML="1/1",l.classList.add("img-enlarged__counter"),l.classList.add("nosel"),e.appendChild(n),e.appendChild(l),e.appendChild(r),document.body.appendChild(e),gallery_counter=l,gallery_buttons=[n,r]});